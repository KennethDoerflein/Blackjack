<!DOCTYPE html>
<html lang="en" data-bs-theme="dark">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Blackjack</title>
    <link rel="icon" type="image/x-icon" href="./assets/cards-1.3/red_joker.png" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous" />
    <link href="./style.css" rel="stylesheet" />
  </head>
  <body>
    <div id="main" class="container my-2">
      <audio id="backgroundMusic" loop class="container text-center">
        <source src="./assets/casino-funky-background-upbeat-and-uplifting-music-intro-theme-120445.mp3" type="audio/mpeg" />
      </audio>

      <div id="message" class="container mb-4 text-center position-relative"></div>
      <h6 id="dealerHeader" class="container text-center">Dealer's Cards</h6>
      <div id="dealersHand" class="container"></div>
      <h6 id="playerHeader" class="container text-center">Player's Cards</h6>
      <div id="playersHands" class="mx-auto">
        <div id="playersHand" class="container"></div>
        <div hidden id="playersSecondHand" class="container"></div>
        <div hidden id="playersThirdHand" class="container"></div>
        <div hidden id="playersFourthHand" class="container"></div>
      </div>

      <div class="container mt-2 d-flex justify-content-center">
        <div id="pointsDisplay" class="text-center me-3 mb-2 py-2 px-4 border rounded">Points*: ----</div>
        <div id="wagerDisplay" class="text-center ms-3 mb-2 p-2 border rounded">Current Hand's Wager: --</div>
      </div>

      <div id="bottomDiv" class="container text-center">
        <div hidden id="wagerDiv" class="mt-2">
          <img class="chip" src="./assets/1Chip.jpg" data-value="1" />
          <img class="chip" src="./assets/5Chip.jpg" data-value="5" />
          <img class="chip" src="./assets/10Chip.jpg" data-value="10" />
          <img class="chip" src="./assets/20Chip.jpg" data-value="20" />
          <img class="chip" src="./assets/50Chip.jpg" data-value="50" />
          <div>
            <button id="wagerRst" class="btn-sm btn btn-danger align-middle ms-2 my-3">Reset Wager</button>
            <button id="allInBtn" class="btn-sm btn btn-warning align-middle ms-2 my-3">Max Wager</button>
            <button id="wagerBtn" class="btn-sm btn btn-primary align-middle ms-2 my-3">Place Wager</button>
          </div>
        </div>

        <div id="gameActions" class="d-flex justify-content-center w-100 mt-2">
          <button hidden id="hitBtn" type="button" class="btn-sm btn btn-warning mx-2">Hit</button>
          <button hidden id="splitBtn" type="button" class="btn-sm btn btn-primary mx-2">Split</button>
          <button hidden id="doubleDownBtn" type="button" class="btn-sm btn btn-light mx-2">Double<br />Down</button>
          <button hidden id="standBtn" type="button" class="btn-sm btn btn-danger mx-2">Stand</button>
          <button hidden id="newGameBtn" type="button" class="btn-sm btn btn-success mx-2">Start Game</button>
        </div>
      </div>

      <div id="disclaimer" class="container mx-auto mt-3">
        <p class="small text-muted my-0">
          <strong>* Disclaimer:</strong> Points in this game have <strong>no monetary value</strong> and are for <strong>entertainment purposes only</strong>.
        </p>
      </div>
    </div>

    <button type="button" class="px-1 py-1 btn btn-sm btn-dark position-absolute top-0 end-0" data-bs-toggle="modal" data-bs-target="#settingsModal">⚙️</button>

    <div class="modal fade" id="settingsModal" tabindex="-1" aria-labelledby="settingsModalLabel" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="settingsModalLabel">Settings</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <div class="form-check form-switch">
              <input class="form-check-input" type="checkbox" role="switch" id="musicSwitch" />
              <label class="form-check-label" for="musicSwitch">Music</label>
            </div>
            <div class="form-check form-switch">
              <input checked class="form-check-input" type="checkbox" role="switch" id="standSwitch" />
              <label class="form-check-label" for="standSwitch">Automatically stand when you get 21</label>
            </div>
            <div class="form-check form-switch">
              <input checked class="form-check-input" type="checkbox" role="switch" id="soft17Switch" />
              <label class="form-check-label" for="soft17Switch">Dealer hits on Soft 17</label>
            </div>
          </div>
          <div class="modal-footer">
            <button type="button" class="mx-auto btn btn-secondary" data-bs-dismiss="modal">Close</button>
          </div>
        </div>
      </div>
    </div>

    <button type="button" class="px-1 py-1 btn btn-sm btn-dark position-absolute top-0 start-0" data-bs-toggle="modal" data-bs-target="#infoModal">ℹ️</button>

    <div class="modal fade" id="infoModal" tabindex="-1" aria-labelledby="infoModalLabel" aria-hidden="true" data-bs-backdrop="static" data-bs-keyboard="false">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header bg-primary text-white">
            <h5 class="modal-title mx-auto fw-bolder" id="infoModalLabel">Game Rules and Button Explanations</h5>
          </div>
          <div class="modal-body bg-light text-dark">
            
            <p class="modal-title text-center fw-bolder"><u>Disclaimer</u></p>
            <p>By visiting this site or playing this game, you acknowledge that:</p>
            <ul>
              <li>
                The points earned in this game are purely fictional, have no monetary value, and are for entertainment purposes only. They cannot be exchanged for any goods or
                services.
              </li>
              <li>This game does not promote any form of gambling.</li>
              <li>The game is intended for users who are 18 years of age or older.</li>
              <li>Users should play responsibly and ensure that playing does not interfere with their daily responsibilities.</li>
              <li>The game rules are subject to change, so users should check the rules regularly.</li>
              <li>By bypassing this agreement, you accept and agree to abide by these terms.</li>
            </ul>

            <hr />

            <p class="modal-title text-center fw-bolder"><u>Blackjack Rules</u></p>
            <ol>
              <li>The goal of blackjack is to beat the dealer's hand without going over 21.</li>
              <li>Face cards are worth 10. Aces are worth 1 or 11, whichever makes a better hand.</li>
              <li>Each player starts with two cards; one of the dealer's cards is hidden until the end.</li>
              <li>To 'Hit' is to ask for another card. To 'Stand' is to hold your total and end your turn.</li>
              <li>If you go over 21, you bust, and the dealer wins regardless of the dealer's hand.</li>
              <li>If you are dealt an Ace and a 10 (or a face card), you have blackjack.</li>
              <li>
                The dealer will hit until their cards total 17 or higher. If the `soft17Switch` is checked, the dealer will also hit on a soft 17 (a hand totaling 17 with an
                Ace counted as 11).
              </li>
            </ol>

            <hr />

            <p class="modal-title text-center fw-bolder"><u>Button Explanations</u></p>
            <ul>
              <li><strong>Hit Button</strong>: Request another card from the dealer.</li>
              <li>
                <strong>Split Button</strong>: Split two cards of the same value into two separate hands, doubling your wager. Splitting is allowed if the game is in progress,
                you haven't already split three times, the two cards have the same point value, and you have enough points for the wager.
              </li>
              <li>
                <strong>Double Down Button</strong>: Double your initial wager and receive one more card. This is typically used when the odds are in your favor. Doubling down
                is allowed if the game is in progress, your hand has exactly two cards, the total of the hand is 21 or less, and you have enough points for the wager.
              </li>
              <li>
                <strong>Stand Button</strong>: Choose not to take any more cards and pass to the next hand or dealer. If the `standSwitch` is checked and your total is 21, the
                game will automatically move to the dealer's turn or next hand.
              </li>
              <li><strong>Start/New Game Button</strong>: Starts a new game.</li>
              <li><strong>Music Toggle</strong>: Enables or disables the game music (disabled by default).</li>
            </ul>
          </div>

          <div class="modal-footer bg-primary">
            <button type="button" class="mx-auto btn btn-warning" data-bs-dismiss="modal">I Acknowledge and Accept</button>
          </div>
        </div>
      </div>
    </div>

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
      crossorigin="anonymous"></script>
    <script src="./cardDeck.js"></script>
    <script src="./index.js"></script>
  </body>
</html>
